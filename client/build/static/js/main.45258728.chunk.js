(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,t,a){},42:function(e,t,a){e.exports=a(79)},69:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){e.exports=a.p+"static/media/landing.6dd9cb77.jpg"},79:function(e,t,a){"use strict";a.r(t);var n,r,c,s=a(0),l=a.n(s),o=a(20),m=a.n(o),i=a(5),u=a(6),d=a(16),p=a(38),E=a(40),f=a(1);!function(e){e.register="REGISTER USER",e.login="LOGIN USER",e.logout="LOGOUT USER",e.getUser="GET USER",e.editBio="EDIT BIO"}(n||(n={})),function(e){e.setAlert="SET ALERT",e.removeAlert="REMOVE_ALERT"}(r||(r={})),function(e){e.createPost="CREATE_POST",e.updatePost="UPDATE_POST",e.searchBlogPost="SEARCH_BLOGPOST",e.getBLogPostById="GET_BLOGPOST_BY_ID",e.getAllPosts="GET_ALL_POSTS",e.getCurrUserPost="GET_CURR_USER_POST",e.removePost="REMOVE_POST",e.addComment="ADD_COMMENT",e.editComment="EDIT_COMMENT",e.removeComment="REMOVE_COMMENT"}(c||(c={}));var v=a(7),b=a.n(v),g=function(e){e?b.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete b.a.defaults.headers.common.Authorization},N={isAuthenticated:!1,token:localStorage.getItem("token"),user:null,loading:!0},h=a(41),y=a(4),O=a.n(y),j=a(10),x=a(81),P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;return function(a){var n={msg:e.msg,type:e.type,id:Object(x.a)()};a({type:r.setAlert,payload:n}),setTimeout((function(){a(C(n.id))}),t)}},C=function(e){return{type:r.removeAlert,payload:e}},w=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(){var t=Object(j.a)(O.a.mark((function t(a){var r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("/auth");case 3:r=t.sent,a({type:n.getUser,payload:r.data}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message),c=t.t0.response.data.message,e&&c&&c.forEach((function(e){return a(P({msg:e,type:"danger"}))}));case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(j.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,b.a.get("/blogpost/".concat(e));case 3:return n=t.sent,a({type:c.getBLogPostById,payload:n.data}),t.abrupt("return");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e){return function(){var t=Object(j.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.delete("/blogpost/".concat(e));case 3:a({type:c.removePost,payload:e}),a(P({msg:"Post was removed",type:"success"})),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message),(n=t.t0.response.data.message)&&n.forEach((function(e){return a(P({msg:e,type:"danger"}))}));case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},S=[],B={posts:[],post:{content:"",datePosted:"",id:0,postComments:[],title:"",username:""},loading:!0},U=Object(d.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.register:case n.login:return localStorage.setItem("token",t.payload.accessToken),g(localStorage.token),Object(f.a)(Object(f.a)({},e),{},{isAuthenticated:!0,token:localStorage.getItem("token"),loading:!1});case n.getUser:return Object(f.a)(Object(f.a)({},e),{},{isAuthenticated:!0,user:t.payload,loading:!1});case n.logout:return localStorage.setItem("token",""),g(localStorage.token),Object(f.a)(Object(f.a)({},e),{},{isAuthenticated:!1,token:null,user:null,loading:!1});default:return e}},blogPost:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.searchBlogPost:case c.getAllPosts:return Object(f.a)(Object(f.a)({},e),{},{posts:t.payload,loading:!1});case c.getBLogPostById:return Object(f.a)(Object(f.a)({},e),{},{post:t.payload,loading:!1});case c.addComment:return Object(f.a)(Object(f.a)({},e),{},{post:Object(f.a)(Object(f.a)({},e.post),{},{postComments:t.payload}),loading:!1});case c.removeComment:return Object(f.a)(Object(f.a)({},e),{},{post:Object(f.a)(Object(f.a)({},e.post),{},{postComments:e.post.postComments.filter((function(e){return e.id!==t.payload}))})});case c.removePost:return Object(f.a)(Object(f.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.payload}))});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.setAlert:return[].concat(Object(h.a)(e),[t.payload]);case r.removeAlert:return e.filter((function(e){return e.id!==t.payload}));default:return e}}}),A=[E.a];var I=a(2),R=(a(69),a(9)),L=a(8),F=(a(70),Object(I.b)((function(e){return{auth:e.auth}}),{registerUser:function(e){return function(){var t=Object(j.a)(O.a.mark((function t(a){var r,c,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={headers:{"Content-Type":"application/json"}},t.next=4,b.a.post("/auth/register",e,r);case 4:c=t.sent,a({type:n.register,payload:c.data}),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message),(s=t.t0.response.data.message)&&s.forEach((function(e){return a(P({msg:e,type:"danger"}))}));case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.registerUser,a=e.auth.isAuthenticated,n=Object(s.useState)({firstName:"",lastName:"",username:"",password:"",bio:""}),r=Object(L.a)(n,2),c=r[0],o=r[1],m=c.firstName,i=c.lastName,d=c.username,p=c.password,E=c.bio,v=Object(u.g)();Object(s.useEffect)((function(){a&&v.push("/")}),[v,a]);var b=function(e){return o(Object(f.a)(Object(f.a)({},c),{},Object(R.a)({},e.currentTarget.name,e.currentTarget.value)))};return l.a.createElement(s.Fragment,null,l.a.createElement("form",{className:"container register-container",onSubmit:function(e){return function(e){e.preventDefault(),t(c)}(e)}},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"First Name"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",onChange:function(e){return b(e)},name:"firstName",value:m,type:"text",placeholder:"First Name"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Last Name"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",onChange:function(e){return b(e)},name:"lastName",value:i,type:"text",placeholder:"Last Name"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Username"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",onChange:function(e){return b(e)},name:"username",value:d,type:"text",placeholder:"Username"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Password"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",onChange:function(e){return b(e)},name:"password",value:p,type:"password",placeholder:"Enter a password"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Bio"),l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{className:"textarea is-info",onChange:function(e){return b(e)},name:"bio",value:E,placeholder:"Write about yourself"}))),l.a.createElement("button",{className:"button is-success"},"Register")))}))),_=(a(72),Object(I.b)((function(e){return{auth:e.auth}}),{loginUser:function(e){return function(){var t=Object(j.a)(O.a.mark((function t(a){var r,c,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={headers:{"Content-Type":"application/json"}},t.next=4,b.a.post("/auth/login",e,r);case 4:c=t.sent,a({type:n.login,payload:c.data}),a(P({msg:"Login Successful",type:"success"})),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0.message),(s=t.t0.response.data.message)&&s.forEach((function(e){return a(P({msg:e,type:"danger"}))}));case 14:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.loginUser,a=e.auth.isAuthenticated,n=Object(s.useState)({username:"",password:""}),r=Object(L.a)(n,2),c=r[0],o=r[1],m=c.username,i=c.password,d=Object(u.g)();Object(s.useEffect)((function(){a&&d.push("/")}),[d,a]);var p=function(e){return o(Object(f.a)(Object(f.a)({},c),{},Object(R.a)({},e.currentTarget.name,e.currentTarget.value)))};return l.a.createElement(s.Fragment,null,l.a.createElement("form",{className:"container login-container",onSubmit:function(e){return function(e){e.preventDefault(),t(c)}(e)}},l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Username"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",onChange:function(e){return p(e)},name:"username",value:m,type:"text",placeholder:"Username"}))),l.a.createElement("div",{className:"field"},l.a.createElement("label",{className:"label"},"Password"),l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",onChange:function(e){return p(e)},name:"password",value:i,type:"password",placeholder:"Enter a password"}))),l.a.createElement("button",{className:"button is-success"},"Log In")))}))),D=Object(I.b)((function(e){return{auth:e.auth}}),{logoutUser:function(){return{type:n.logout}}})((function(e){var t=e.auth.isAuthenticated,a=e.logoutUser,n=Object(u.g)(),r=l.a.createElement(s.Fragment,null,l.a.createElement("a",{onClick:function(){a(),n.push("/")},className:"button is-danger"},"Log Out")),c=l.a.createElement(s.Fragment,null,l.a.createElement(i.b,{to:"/login",className:"button is-light"},"Log in"),l.a.createElement(i.b,{to:"/register",className:"button is-primary"},l.a.createElement("strong",null,"Sign up"))),o=l.a.createElement(s.Fragment,null,l.a.createElement(i.b,{to:"/myprofile",className:"navbar-item"},"My Profile")),m=l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},l.a.createElement("a",{className:"navbar-link"},"More"),l.a.createElement("div",{className:"navbar-dropdown"},l.a.createElement(i.b,{to:"/about",className:"navbar-item"},"About"),l.a.createElement("a",{className:"navbar-item"},"Jobs"),l.a.createElement("a",{className:"navbar-item"},"Contact"),l.a.createElement("hr",{className:"navbar-divider"}),l.a.createElement("a",{className:"navbar-item"},"Report an issue"))));return l.a.createElement(s.Fragment,null,l.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},l.a.createElement("div",{className:"navbar-brand"},l.a.createElement("a",{role:"button",className:"navbar-burger burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}),l.a.createElement("span",{"aria-hidden":"true"}))),l.a.createElement("div",{id:"navbarBasicExample",className:"navbar-menu"},l.a.createElement("div",{className:"navbar-start"},l.a.createElement(i.b,{to:"/",className:"navbar-item"},"Home"),l.a.createElement(i.b,{to:"/posts",className:"navbar-item"},"Posts"),t&&o,m),l.a.createElement("div",{className:"navbar-end"},l.a.createElement("div",{className:"navbar-item"},l.a.createElement("div",{className:"buttons"},t?r:c))))))})),M=(a(73),function(e){var t=e.dateRegistered,a=e.numberOfPosts;return l.a.createElement(s.Fragment,null,l.a.createElement("section",{className:"info-tiles"},l.a.createElement("div",{className:"tile is-ancestor has-text-centered"},l.a.createElement("div",{className:"tile is-parent"},l.a.createElement("article",{className:"tile is-child box"},l.a.createElement("p",{className:"title"},a),l.a.createElement("p",{className:"subtitle"},"# of posts"))),l.a.createElement("div",{className:"tile is-parent"},l.a.createElement("article",{className:"tile is-child box"},l.a.createElement("p",{className:"title"},"42"),l.a.createElement("p",{className:"subtitle"},"# of liked posts"))),l.a.createElement("div",{className:"tile is-parent"},l.a.createElement("article",{className:"tile is-child box"},l.a.createElement("p",{className:"title"},t),l.a.createElement("p",{className:"subtitle"},"Member since"))))))}),G=function(e){var t=e.firstName,a=e.lastName,n=e.bio;return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"column is-6"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"media-content"},l.a.createElement("p",{className:"title is-5"},t," ",a),l.a.createElement(i.b,{to:{pathname:"/edit-bio",state:{bio:n}},className:"subtitle is-6 has-text-info"},"Edit Bio")),l.a.createElement("div",{className:"content"},n)))))},W=function(e){var t=e.user,a=e.removeBlogPost,n=t.blogPostsFromUser.slice(0,6).map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",{width:"5%"},l.a.createElement("i",{className:"fas fa-feather-alt"})),l.a.createElement("td",null,l.a.createElement(i.b,{to:"/post/".concat(e.id)},e.title)),l.a.createElement("td",{className:"level-right"},l.a.createElement(i.b,{to:"/editpost/".concat(e.id),className:"button is-small is-warning post-button profile-post-btn"},"Edit"),l.a.createElement("button",{onClick:function(){return a(e.id)},className:"button is-small is-danger profile-post-btn"},"Remove")))}));return l.a.createElement("div",{className:"column is-6"},l.a.createElement("div",{className:"card event-card"},l.a.createElement("header",{className:"card-header"},l.a.createElement("p",{className:"card-header-title"},"My recent posts")),l.a.createElement("div",{className:"card-table"},l.a.createElement("div",{className:"content"},l.a.createElement("table",{className:"table is-fullwidth is-striped"},l.a.createElement("tbody",null,t.blogPostsFromUser&&n))))))},H=Object(I.b)((function(e){return{user:e.auth.user}}),{getUser:w,removeBlogPost:T})((function(e){var t=e.user,a=e.getUser,n=e.removeBlogPost;return Object(s.useEffect)((function(){a()}),[a,t]),t?l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"container profile-container"},l.a.createElement("div",{className:"columns is-centered"},l.a.createElement("div",{className:"column is-9"},l.a.createElement("section",{className:"hero is-info welcome is-small user-hero"},l.a.createElement("div",{className:"hero-body"},l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"title"},"Hello ",t.username)))),l.a.createElement(M,{dateRegistered:t.dateRegistered,numberOfPosts:t.blogPostsFromUser.length}),l.a.createElement("div",{className:"columns"},l.a.createElement(W,{user:t,removeBlogPost:n}),l.a.createElement(G,{firstName:t.firstName,lastName:t.lastName,bio:t.bio})))))):null})),J=(a(74),Object(I.b)((function(e){return{alerts:e.alert}}),{})((function(e){var t=e.alerts,a=t.map((function(e){return l.a.createElement("div",{key:e.id,className:"container notification is-".concat(e.type," is-light")},e.msg)}));return l.a.createElement(s.Fragment,null,t&&a)}))),V=(a(37),function(){return l.a.createElement("div",{className:"column is-3"},l.a.createElement(i.b,{to:"/newpost",className:"button is-info is-block is-alt is-large"},"New Post"),l.a.createElement("aside",{className:"menu"},l.a.createElement("p",{className:"menu-label"},"Filters"),l.a.createElement("ul",{className:"menu-list"},l.a.createElement("li",null,l.a.createElement("span",{className:"filter-button tag is-link is-large"},"Popular")),l.a.createElement("li",null,l.a.createElement("span",{className:"filter-button tag is-warning is-large"},"Recent")),l.a.createElement("li",null,l.a.createElement("span",{className:"filter-button tag is-success is-large"},"Rising")))))}),Y=function(e){var t=e.post,a=e.user,n=e.removeBlogPost,r=a&&a.username===t.username?l.a.createElement("div",{className:"media-content"},l.a.createElement("div",{className:"level post-buttons"},l.a.createElement("button",{onClick:function(){return n(t.id)},className:"button is-small is-danger level-left"},"Remove"),l.a.createElement(i.b,{to:"/editpost/".concat(t.id),className:"button is-small is-warning level-right"},"Edit"))):null;return l.a.createElement("article",{className:"post"},l.a.createElement(i.b,{to:"/post/".concat(t.id),className:"title is-4"},t.title," "),l.a.createElement("div",{className:"media"},l.a.createElement("div",{className:"media-content"},l.a.createElement("div",{className:"content"},l.a.createElement("p",null,l.a.createElement(i.b,{to:"/",className:"has-text-black",href:"#"},t.username)))),l.a.createElement("div",{className:"media-right"},r,l.a.createElement("div",{className:"media-content"},l.a.createElement("p",{className:"tag"},t.datePosted),l.a.createElement("span",{className:"like-icon has-text-danger"},l.a.createElement("i",{className:"fas fa-heart"})," 2"),l.a.createElement("span",{className:"has-text-info"},l.a.createElement("i",{className:"fa fa-comments"})," ",t.postComments.length)))))},z=Object(I.b)((function(e){return{user:e.auth.user,posts:e.blogPost.posts}}),{getBlogPostWithQuery:function(e){return function(){var t=Object(j.a)(O.a.mark((function t(a){var n,r,s;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(n=e.search)){t.next=8;break}return t.next=5,b.a.get("/blogpost?search=".concat(n));case 5:return r=t.sent,a({type:c.searchBlogPost,payload:r.data}),t.abrupt("return");case 8:t.next=15;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0.message),(s=t.t0.response.data.message)&&s.forEach((function(e){return a(P({msg:e,type:"danger"}))}));case 15:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},getAllBlogPosts:function(){return function(){var e=Object(j.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.a.get("/blogpost/all");case 3:a=e.sent,t({type:c.getAllPosts,payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},getUser:w,removeBlogPost:T})((function(e){var t=e.getBlogPostWithQuery,a=e.getAllBlogPosts,n=e.getUser,r=e.removeBlogPost,c=e.posts,o=e.user,m=Object(s.useState)(!1),i=Object(L.a)(m,2),u=i[0],d=i[1],p=Object(s.useState)({search:"",postId:void 0}),E=Object(L.a)(p,2),v=E[0],b=E[1];Object(s.useEffect)((function(){n(!1),a()}),[n,a]),Object(s.useEffect)((function(){t(v)}),[t,u]);var g=c.map((function(e){return l.a.createElement(Y,{key:e.id,post:e,user:o,removeBlogPost:r})}));return l.a.createElement(s.Fragment,null,l.a.createElement("section",{className:"post-container container"},l.a.createElement("div",{className:"columns"},l.a.createElement(V,null),l.a.createElement("div",{className:"column is-9"},l.a.createElement("form",{className:"searchbar"},l.a.createElement("div",{className:"field has-addons"},l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input",name:"search",onChange:function(e){return function(e){return b(Object(f.a)(Object(f.a)({},v),{},Object(R.a)({},e.currentTarget.name,e.currentTarget.value)))}(e)},type:"text",placeholder:"Find a repository"})),l.a.createElement("button",{onClick:function(e){return function(e){e.preventDefault(),d(!u)}(e)},type:"button",className:"button is-info"},"Search"))),l.a.createElement("div",{className:"box content"},g)))))})),Q=(a(75),Object(I.b)(null,{createPost:function(e,t){return function(){var a=Object(j.a)(O.a.mark((function a(n){var r,c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r={headers:{"Content-Type":"application/json"}},a.next=4,b.a.post("/blogpost",e,r);case 4:n(P({msg:"Post Created",type:"success"})),t.push("/"),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.message),(c=a.t0.response.data.message)&&c.forEach((function(e){return n(P({msg:e,type:"danger"}))}));case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.createPost,a=e.history,n=Object(s.useState)({title:"",content:""}),r=Object(L.a)(n,2),c=r[0],o=r[1],m=c.title,i=c.content,u=function(e){return o(Object(f.a)(Object(f.a)({},c),{},Object(R.a)({},e.currentTarget.name,e.currentTarget.value)))};return l.a.createElement("div",{className:"container"},l.a.createElement("section",{className:"blog-form"},l.a.createElement("div",{className:"column is-8 is-offset-2"},l.a.createElement("div",{className:"card article"},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"media"},l.a.createElement("div",{className:"media-content has-text-centered"},l.a.createElement("p",{className:"title article-title"},"A New Blog Post"))),l.a.createElement("div",{className:"content-article-body"},l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(c,a)}(e)}},l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input is-primary",type:"text",name:"title",value:m,onChange:function(e){return u(e)},placeholder:"Title"}))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{className:"textarea is-primary",name:"content",value:i,onChange:function(e){return u(e)},placeholder:"Your post goes here"}))),l.a.createElement("button",{className:"submit-button button is-primary"},"Submit"))))))))}))),q=Object(I.b)(null,{createComment:function(e,t){return function(){var a=Object(j.a)(O.a.mark((function a(n){var r,s,l;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r={headers:{"Content-Type":"application/json"}},a.next=4,b.a.post("/comment/".concat(t),e,r);case 4:s=a.sent,console.log(s.data),n({type:c.addComment,payload:s.data}),n(P({msg:"Comment added",type:"success"})),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0.message),(l=a.t0.response.data.message)&&l.forEach((function(e){return n(P({msg:e,type:"danger"}))}));case 15:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.postId,a=e.createComment,n=Object(s.useState)({content:""}),r=Object(L.a)(n,2),c=r[0],o=r[1],m=c.content;return l.a.createElement("div",{className:"card article"},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"media"},l.a.createElement("div",{className:"media-content has-text-centered"},l.a.createElement("p",{className:"title is-4 article-title"},"Comments"))),l.a.createElement("div",{className:"content-article-body"},l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),a(c,t),o({content:""})}(e)}},l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{className:"textarea is-primary",placeholder:"Leave your comment here",name:"content",onChange:function(e){return function(e){return o(Object(f.a)(Object(f.a)({},c),{},Object(R.a)({},e.currentTarget.name,e.currentTarget.value)))}(e)},value:m}))),l.a.createElement("button",{className:"submit-button button is-primary"},"Leave a comment")))))})),K=function(e){var t=e.comment,a=e.postId,n=e.currUser,r=e.removeComment,c=t.content,s=t.username,o=l.a.createElement("div",{className:"level comment-buttons"},l.a.createElement(i.b,{to:{pathname:"/edit-comment",state:{postId:a,comment:t}},className:"button is-small is-warning level-right"},"edit"),l.a.createElement("button",{onClick:function(){return r(t.id)},className:"button is-small is-danger level-right"},"remove"));return l.a.createElement("div",{className:"card article"},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"media"},l.a.createElement("div",{className:"media-content"},l.a.createElement("p",{className:"title is-5"},s)),n===t.username?o:null),l.a.createElement("div",{className:"content-article-body"},c)))},X=function(e){var t=e.post;return l.a.createElement("div",{className:"card article"},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"media"},l.a.createElement("div",{className:"media-content has-text-centered"},l.a.createElement("p",{className:"title article-title"},t.title),l.a.createElement("p",{className:"subtitle is-5"},t.username))),l.a.createElement("div",{className:"content-article-body"},t.content)))},Z=Object(I.b)((function(e){var t;return{post:e.blogPost.post,username:null===(t=e.auth.user)||void 0===t?void 0:t.username}}),{getBlogPostById:k,removeComment:function(e){return function(){var t=Object(j.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.delete("/comment/".concat(e));case 3:a({type:c.removeComment,payload:e}),a(P({msg:"Comment Removed",type:"warning"})),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message),(n=t.t0.response.data.message)&&n.forEach((function(e){return a(P({msg:e,type:"danger"}))}));case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getBlogPostById,a=e.removeComment,n=e.match,r=e.post,c=e.username;Object(s.useEffect)((function(){var e=n.params.id;t(e)}),[t,n.params.id]);var o=null===r||void 0===r?void 0:r.postComments.map((function(e){return l.a.createElement(K,{key:e.id,comment:e,postId:r.id,currUser:c,removeComment:a})}));return r&&l.a.createElement("div",{className:"container"},l.a.createElement("section",{className:"post"},l.a.createElement("div",{className:"column is-8 is-offset-2"},l.a.createElement(X,{post:r}),l.a.createElement(q,{postId:r.id})),l.a.createElement("div",{className:"column is-8 is-offset-2"},o)))})),$=(a(76),Object(I.b)((function(e){return{post:e.blogPost.post}}),{updateBlogPost:function(e,t){return function(){var a=Object(j.a)(O.a.mark((function a(n){var r,s;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r={headers:{"Content-Type":"application/json"}},a.next=4,b.a.patch("/blogpost/".concat(t),e,r);case 4:n({type:c.updatePost}),n(P({msg:"Post Updated",type:"success"})),a.next=13;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0.message),(s=a.t0.response.data.message)&&s.forEach((function(e){return n(P({msg:e,type:"danger"}))}));case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},getBlogPostById:k})((function(e){var t=e.updateBlogPost,a=e.getBlogPostById,n=e.post,r=e.match,c=Object(s.useState)({title:"",content:""}),o=Object(L.a)(c,2),m=o[0],i=o[1],u=r.params.postId;Object(s.useEffect)((function(){a(u)}),[a,u]),Object(s.useEffect)((function(){null!==n&&i({title:n.title,content:n.content})}),[n]);var d=m.title,p=m.content,E=function(e){return i(Object(f.a)(Object(f.a)({},m),{},Object(R.a)({},e.currentTarget.name,e.currentTarget.value)))};return n&&l.a.createElement("div",{className:"container"},l.a.createElement("section",{className:"blog-form"},l.a.createElement("div",{className:"column is-8 is-offset-2"},l.a.createElement("div",{className:"card article"},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"media"},l.a.createElement("div",{className:"media-content has-text-centered"},l.a.createElement("p",{className:"title article-title"},"Edit Post"))),l.a.createElement("div",{className:"content-article-body"},l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(m,u)}(e)}},l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("input",{className:"input is-primary",type:"text",name:"title",value:d,onChange:function(e){return E(e)},placeholder:"Title"}))),l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{className:"textarea is-primary",name:"content",value:p,onChange:function(e){return E(e)},placeholder:"Your post goes here"}))),l.a.createElement("button",{className:"submit-button button is-primary"},"Submit"))))))))}))),ee=Object(I.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{getUser:w})((function(e){var t=e.compoment,a=e.path,n=e.exact,r=e.getUser,c=e.isAuthenticated;return Object(s.useEffect)((function(){r()}),[r]),c?l.a.createElement(u.b,{path:a,exact:n,component:t}):l.a.createElement(u.a,{to:"/login"})})),te=(a(77),function(){return l.a.createElement("div",null,l.a.createElement("img",{className:"landing",src:a(78),alt:"landing "}))}),ae=Object(I.b)(null,{editComment:function(e,t,a){return function(){var n=Object(j.a)(O.a.mark((function n(r){var s,l;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s={headers:{"Content-Type":"application/json"}},n.next=4,b.a.patch("/comment/".concat(t,"/").concat(a),e,s);case 4:r({type:c.editComment}),r(P({msg:"Comment Edited",type:"success"})),n.next=13;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0.message),(l=n.t0.response.data.message)&&l.forEach((function(e){return r(P({msg:e,type:"danger"}))}));case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.location,a=e.editComment,n=t.state,r=n.postId,c=n.comment,o=Object(s.useState)({content:""}),m=Object(L.a)(o,2),i=m[0],u=m[1];Object(s.useEffect)((function(){u({content:c.content})}),[]);var d=i.content;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card article"},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"media"},l.a.createElement("div",{className:"media-content has-text-centered"},l.a.createElement("p",{className:"title is-4 article-title"},"Edit Comment"))),l.a.createElement("div",{className:"content-article-body"},l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),a(i,r,c.id)}(e)}},l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{className:"textarea is-primary",placeholder:"Leave your comment here",onChange:function(e){return function(e){return u(Object(f.a)(Object(f.a)({},i),{},Object(R.a)({},e.currentTarget.name,e.currentTarget.value)))}(e)},value:d,name:"content"}))),l.a.createElement("button",{className:"submit-button button is-primary"},"Submit"))))))})),ne=Object(I.b)(null,{editBio:function(e){return function(){var t=Object(j.a)(O.a.mark((function t(a){var r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r={headers:{"Content-Type":"application/json"}},t.next=4,b.a.patch("/auth/editbio",e,r);case 4:a({type:n.editBio}),a(P({msg:"Bio edited",type:"success"})),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message),(c=t.t0.response.data.message)&&c.forEach((function(e){return a(P({msg:e,type:"danger"}))}));case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.location.state,a=e.editBio,n=Object(s.useState)({bio:""}),r=Object(L.a)(n,2),c=r[0],o=r[1];Object(s.useEffect)((function(){o({bio:t.bio})}),[]);var m=c.bio;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card article"},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"media"},l.a.createElement("div",{className:"media-content has-text-centered"},l.a.createElement("p",{className:"title is-4 article-title"},"Edit Bio"))),l.a.createElement("div",{className:"content-article-body"},l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),a(c)}(e)}},l.a.createElement("div",{className:"field"},l.a.createElement("div",{className:"control"},l.a.createElement("textarea",{className:"textarea is-primary",placeholder:"Leave your comment here",value:m,onChange:function(e){return function(e){return o({bio:e.currentTarget.value})}(e)},name:"content"}))),l.a.createElement("button",{className:"submit-button button is-primary"},"Submit"))))))})),re=Object(d.createStore)(U,void 0,Object(p.composeWithDevTools)(d.applyMiddleware.apply(void 0,A)));g(localStorage.token);var ce=function(){return Object(s.useEffect)((function(){localStorage.token&&re.dispatch(w(!1))}),[]),l.a.createElement(I.a,{store:re},l.a.createElement(i.a,null,l.a.createElement(D,null),l.a.createElement(J,null),l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/",component:te}),l.a.createElement(u.b,{exact:!0,path:"/register",component:F}),l.a.createElement(u.b,{exact:!0,path:"/login",component:_}),l.a.createElement(u.b,{exact:!0,path:"/posts",component:z}),l.a.createElement(u.b,{exact:!0,path:"/post/:id",component:Z}),l.a.createElement(ee,{exact:!0,path:"/myprofile",compoment:H}),l.a.createElement(ee,{exact:!0,path:"/newpost",compoment:Q}),l.a.createElement(ee,{exact:!0,path:"/editpost/:postId",compoment:$}),l.a.createElement(ee,{exact:!0,path:"/edit-comment",compoment:ae}),l.a.createElement(ee,{exact:!0,path:"/edit-bio",compoment:ne}))))};m.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(ce,null)),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.45258728.chunk.js.map